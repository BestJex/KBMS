<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.kbms_module.dao.AssociationdocMapper" >
  <resultMap id="BaseResultMap" type="com.kbms_module.pojo.Doc">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <result column="id" jdbcType="INTEGER" property="id" />
    <result column="title" jdbcType="VARCHAR" property="title" />
    <result column="author_id" jdbcType="INTEGER" property="authorId" />
    <result column="type_id" jdbcType="INTEGER" property="typeId" />
    <result column="createTime" jdbcType="TIMESTAMP" property="createtime" />
    <result column="favers" jdbcType="INTEGER" property="favers" />
    <result column="dislikes" jdbcType="INTEGER" property="dislikes" />
    <result column="comments" jdbcType="INTEGER" property="comments" />
    <result column="collections" jdbcType="INTEGER" property="collections" />
    <result column="visitnums" jdbcType="INTEGER" property="visitnums" />
    <result column="hostnums" jdbcType="DOUBLE" property="hostnums" />
    <result column="groupid" jdbcType="INTEGER" property="groupid" />
    <result column="edittime" jdbcType="TIMESTAMP" property="edittime" />
    <result column="privcaty" jdbcType="INTEGER" property="privcaty" />
    <result column="summary" jdbcType="VARCHAR" property="summary" />
    <result column="tags" jdbcType="VARCHAR" property="tags" />
    <result property="StypeId" column="s_id" jdbcType="INTEGER"></result>
    <result property="BtypeId" column="b_id" jdbcType="INTEGER"></result>
    <result column="previewurl" jdbcType="VARCHAR" property="previewurl" />
    <association property="stype"  column="s_id" select="com.kbms_module.dao.StypeMapper.selectById"></association>
    <association property="user" column="author_id" select="com.kbms_module.dao.UserDao.selectUserbyId" />
    <association property="btype" column="b_id"  select="com.kbms_module.dao.BtypeMapper.selectTypebyId"/>
  </resultMap>
  <resultMap extends="BaseResultMap" id="ResultMapWithBLOBs" type="com.generator.pojo.Doc">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->

    <result column="content" jdbcType="LONGVARCHAR" property="content" />
  </resultMap>
  <select id="selectreleaddoc" resultType="com.kbms_module.pojo.Doc">
    select * from associationdoc where
  </select>
  <select id="getFirstDoc" resultType="com.kbms_module.pojo.Doc">
    select * from doc a,associationdoc b
    where b.newid=#{newid}
    and
    b.oldid=a.id
  </select>
  <select id="getSenodDoc" resultType="com.kbms_module.pojo.Doc">
    select * from doc a, associationdoc b
    where b.oldid=#{oldid}
    and
    b.newid=a.id
  </select>

</mapper>